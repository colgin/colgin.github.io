{"componentChunkName":"component---src-templates-blog-post-js","path":"/chunkhash-contenthash-in-webpack/","result":{"data":{"site":{"siteMetadata":{"title":"Colgin's Blog"}},"markdownRemark":{"id":"696bcfad-93ab-54b1-b08e-a73c77c8d2e3","excerpt":"åœ¨webpacké…ç½®ä¸­è¾“å‡ºçš„é…ç½®ä¸­ï¼Œæä¾›äº†å‡ ä¸ªå ä½ç¬¦å·ï¼Œå…¶ä¸­contenthashä¸chunkhashæ˜¯ä»¤äººæ¯”è¾ƒè´¹è§£çš„ä¸¤ä¸ªã€‚ bundle, module, chunk module module æ˜¯æœ€å¥½ç†è§£çš„ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæŠŠwebpack æè¿°ä¸º module bundlerã€‚åœ¨webpackâ€¦","html":"<p>åœ¨webpacké…ç½®ä¸­è¾“å‡ºçš„é…ç½®ä¸­ï¼Œæä¾›äº†å‡ ä¸ªå ä½ç¬¦å·ï¼Œå…¶ä¸­contenthashä¸chunkhashæ˜¯ä»¤äººæ¯”è¾ƒè´¹è§£çš„ä¸¤ä¸ªã€‚</p>\n<!-- more -->\n<h2>bundle, module, chunk</h2>\n<h3>module</h3>\n<p>module æ˜¯æœ€å¥½ç†è§£çš„ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæŠŠwebpack æè¿°ä¸º <strong>module bundler</strong>ã€‚åœ¨webpackä¸­ï¼Œä¸€åˆ‡èµ„æºéƒ½æ˜¯æ¨¡å—ï¼Œå…¶å®webpackæœ¬èº«æ™ºèƒ½å¤„ç†js moduleï¼Œä½†æ˜¯é€šè¿‡loaderï¼Œå¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„moduleï¼Œæ¯”è¾ƒå¸¸è§çš„æ¯”å¦‚cssï¼Œå›¾ç‰‡ï¼Œå­—ä½“ã€‚</p>\n<p><img src=\"https://i.loli.net/2020/07/23/P9kn6mBFYI4feqH.png\" alt=\"https://i.loli.net/2020/07/23/P9kn6mBFYI4feqH.png\"></p>\n<p>å¯ä»¥çœ‹åˆ°å·¦è¾¹è¿™ä¸ªå°±æ˜¯ä¸åŒç±»å‹çš„moduleã€‚</p>\n<p>åœ¨webpackå®˜ç½‘é’ˆå¯¹module è¿˜æœ‰ä¸“é—¨çš„ä»‹ç»ï¼Œç®€è€Œè¨€ä¹‹ï¼Œé€šè¿‡å„ç§è¯­æ³•å¯¹å„ç§èµ„æºçš„å¼•ç”¨è®©webpackèƒ½å¤Ÿå»ºç«‹èµ·ä¸€ä¸ªä¾èµ–æ ‘ã€‚æ¯”å¦‚</p>\n<ul>\n<li>ES2015 import</li>\n<li>CommonJS <code class=\"language-text\">require()</code>è¯­æ³•</li>\n<li>AMD <code class=\"language-text\">define</code> , <code class=\"language-text\">require</code>è¯­æ³•</li>\n<li>css/less/scss ä¸­çš„ <code class=\"language-text\">@import</code></li>\n<li>css ä¸­çš„<code class=\"language-text\"> url(...)</code></li>\n<li>htmlä¸­<code class=\"language-text\">img src=... ></code></li>\n</ul>\n<p>é€šè¿‡loaderï¼Œå¯ä»¥æ”¯æŒéå¸¸å¤šçš„moduleç±»å‹ï¼Œæ¯”å¦‚ä½¿ç”¨ts-loaderå°±å¯ä»¥æ”¯æŒts moduleã€‚å›æƒ³ä¸€ä¸‹ï¼Œwebpack é…ç½®loaderå°±æ˜¯åœ¨moduleå¯¹è±¡ä¸‹é…ç½®çš„ã€‚</p>\n<h3>bundle</h3>\n<p>bundle å¯¹åº”çš„æ˜¯æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶ï¼Œä¸€ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªbundle</p>\n<h3>chunk</h3>\n<p>chunkæ˜¯webpack ä¸­ä¸€ä¸ªä¸å¥½ç†è§£ï¼Œä½†æ˜¯åˆéå¸¸é‡è¦çš„æ¦‚å¿µã€‚æ˜¯webpack å†…éƒ¨å¤„ç†çš„çš„ä¸€ä¸ªè¡¨ç¤ºï¼Œchunkæ˜¯module çš„é›†åˆã€‚</p>\n<p>åœ¨<a href=\"https://github.com/webpack/webpack.js.org/issues/970#issuecomment-305525560\">Concepts- Bundle vs Chunk</a>çš„è®¨è®ºä¸­ï¼Œwebpackçš„è´¡çŒ®è€…æå‡ºäº†ä¸‹é¢çš„è§‚ç‚¹ï¼š</p>\n<p>chunkå°±æ˜¯ bundleï¼Œchunkåªæ˜¯å¯¹ä¾èµ–çš„ä¸€å±‚å°è£…ã€‚è¿˜æå‡ºäº†ä¸‰ç§chunk</p>\n<ul>\n<li>entry chunkï¼šentry chunkå°±æ˜¯åº”ç”¨çš„å…¥å£ï¼Œé‡Œé¢åŒ…å«äº†webpackçš„å¯åŠ¨ä»£ç ï¼Œæ•´ä½“è€Œè¨€å°±æ˜¯ä¸€ä¸ªIIFEï¼Œå‚æ•°æ˜¯modulesï¼Œå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„moduleã€‚entry chunkä¸€å®šæ˜¯æœ€å…ˆæ‰§è¡Œçš„ã€‚</li>\n<li>initial chunkï¼šinitial chunk æ˜¯åŒæ­¥åŠ è½½çš„ï¼Œä½†æ˜¯ä¸åŒ…å«webpackçš„é‚£äº›å¯åŠ¨ä»£ç ã€‚initial chunk ä¸€èˆ¬æ˜¯ç´§è·Ÿåœ¨ entry chunkä¹‹ååŠ è½½çš„ã€‚initial chunk ä¹Ÿæ˜¯ä¸€ä¸ªbundleï¼ˆç”¨æˆ·ä¾§çš„ç§°å‘¼ï¼‰ï¼Œinitial chunk ä¸€èˆ¬å¯ä»¥ç”±æ‹†åŒ…ç”Ÿæˆï¼Œæ¯”å¦‚SplitChunksPlugin, æˆ–è€… mini-css-extract-pluginã€‚å…¸å‹çš„ä»£ç å¦‚ä¸‹:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">webpackJsonp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span>\n<span class=\"token comment\">/* 0 */</span>\n<span class=\"token comment\">/* unknown exports provided */</span>\n<span class=\"token comment\">/* all exports used */</span>\n<span class=\"token comment\">/*!*********************!*\\\\\n  !*** ./utility2.js ***!\n  \\\\*********************/</span>\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">module<span class=\"token punctuation\">,</span> exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token string\">\"utility2\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">/* 1 */</span>\n<span class=\"token comment\">/* unknown exports provided */</span>\n<span class=\"token comment\">/* all exports used */</span>\n<span class=\"token comment\">/*!*********************!*\\\\\n  !*** ./utility3.js ***!\n  \\\\*********************/</span>\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">module<span class=\"token punctuation\">,</span> exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token string\">\"utility3\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/***/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>Normal chunk: normal chunk å’Œinitial chunkçš„åŒºåˆ«åœ¨äºï¼Œnormal chunkæ˜¯æ‡’åŠ è½½æˆ–è€…è¯´æ˜¯å¼‚æ­¥åŠ è½½çš„ã€‚æ¯”å¦‚é€šè¿‡import()åŠ¨æ€å¯¼å…¥è¯­æ³•å°±ä¼šç”Ÿæˆnormal chunkã€‚normal chunkã€‚normal chunk æ˜¯å¼‚æ­¥çš„ï¼Œæ²¡æœ‰å›ºå®šçš„é¡ºåºã€‚</li>\n</ul>\n<p>å¦‚æœæŒ‰ç…§chunkäº§å‡ºçš„åŸå› æ¥åˆ†çš„è¯ã€‚å¤§æ¦‚å¯ä»¥åˆ†ä¸º3ç±»</p>\n<ul>\n<li>entry</li>\n<li>SplitChunksPlugin</li>\n<li>Dynamic import</li>\n</ul>\n<p>åœ¨webpackæ‰“åŒ…ç»“æœä¸­ä¼šè¯´æ˜æ¯ä¸€ä¸ªæ–‡ä»¶æ¥è‡ªä¸å“ªä¸ªchunk</p>\n<p><img src=\"https://i.loli.net/2020/07/24/x69fHqaJjbngL13.png\" alt=\"https://i.loli.net/2020/07/24/x69fHqaJjbngL13.png\"></p>\n<h2>contenthash, chunkhash</h2>\n<p>å®˜ç½‘ä¸Šå¯¹chunkhash çš„è§£é‡Šæ˜¯ The hash of chunk content, å¯¹contenthashçš„è§£é‡Šæ˜¯ The hash of the content of a fileã€‚</p>\n<p>è€Œä¸”è¿˜ç‰¹åœ°æ ‡æ³¨äº†ï¼Œå¦‚æœä½¿ç”¨ExtracTextWebpackPluginçš„æ—¶å€™ï¼Œç”¨contenthash ï¼Œä¸è¦ä½¿ç”¨chunkhashã€‚</p>\n<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>\n<p>å…ˆæ­å»ºä¸€ä¸‹webpack ç¯å¢ƒæŠŠã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// webpack.config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token string\">'./src/index.js'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'../dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">'[chunkhash:5].js'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\\\.js$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token string\">'babel-loader'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\\\.css$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>MiniCssExtractPlugin<span class=\"token punctuation\">.</span>loader<span class=\"token punctuation\">,</span> <span class=\"token string\">'css-loader'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'../src/index.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// chunks: ['vendors', 'runtime', 'main']</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">CleanWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">MiniCssExtractPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">'[contenthash:5].css'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æºæ–‡ä»¶å¦‚ä¸‹</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> abs <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./abs'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./index.css'</span>\n\nwindow<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span>\n  div<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'food'</span>\n  div<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token number\">8888</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span><span class=\"token number\">109</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// index.css</span>\n<span class=\"token punctuation\">.</span>food <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> yellow<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// abs.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">abs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>value <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> val</code></pre></div>\n<p>æ¥ä¸‹æ¥ï¼Œè°ƒæ•´output.filenameä½¿ç”¨çš„å ä½ç¬¦å’ŒMiniCssExtractPluginä½¿ç”¨çš„å ä½ç¬¦ã€‚</p>\n<p>ä¸ºäº†æµ‹è¯•è¿™ä¿©å ä½ç¬¦çš„åŒºåˆ«ï¼Œæ¯æ¬¡åªä¼šåšä»¥ä¸‹ä»»æ„ä¸€ç§ä¿®æ”¹</p>\n<ul>\n<li>Aï¼šä¿®æ”¹index.jsæ–‡ä»¶ ï¼Œconsole.log()çš„å€¼</li>\n<li>Bï¼šä¿®æ”¹index.cssæ–‡ä»¶å†…å®¹</li>\n</ul>\n<ol>\n<li>å¦‚æœäºŒè€…éƒ½æ˜¯ç”¨chunkhash</li>\n</ol>\n<p>A, B ä¸¤ç§æƒ…å†µéƒ½ä¼šå¯¼è‡´æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸”ï¼ŒäºŒè€…æ–‡ä»¶åéƒ½æ˜¯ä¸€æ ·çš„ï¼ˆå‰æå ä½ç¬¦ä¸€æ ·ï¼‰ã€‚</p>\n<p><img src=\"https://i.loli.net/2020/07/24/cUNtJHzVl4dxLD5.png\" alt=\"https://i.loli.net/2020/07/24/cUNtJHzVl4dxLD5.png\"></p>\n<ol start=\"2\">\n<li>å¦‚æœäºŒè€…éƒ½æ˜¯ç”¨contenthash</li>\n</ol>\n<p>A: jsæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œcssæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–</p>\n<p>B: jsæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œcssæ–‡ä»¶å‘ç”Ÿå˜åŒ–</p>\n<p>åœ¨è¿™é‡Œçš„åœºæ™¯ï¼Œç”±äºcsséƒ½è¢«æŠ½ç¦»æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œç›´æ¥æ’å…¥åˆ°htmlä¸­ï¼Œä½†æ˜¯å¦‚æœç±»ä¼¼ä¸åŠ¨æ€å¼•å…¥çš„è¯ï¼Œæ¯”å¦‚</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// index.js</span>\n<span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./example.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>å¦‚æœexample.jsæ–‡ä»¶äº†ï¼Œindex.js æ–‡ä»¶è¿˜ä¸ä¿®æ”¹çš„è¯ï¼Œå¿…ç„¶ä¼šå¯¼è‡´å¼•ç”¨æ–‡ä»¶å¤±è´¥ã€‚å› ä¸ºä¹‹å‰çš„æ–‡ä»¶å·²ç»ä¸åœ¨äº†ã€‚</p>\n<ol start=\"3\">\n<li>å¦‚æœoutput.filename æ˜¯contenthashï¼Œcssæ’ä»¶ç”¨çš„æ˜¯chunkhashçš„è¯</li>\n</ol>\n<p>A: js æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œcssæ–‡ä»¶å‘ç”Ÿå˜åŒ–</p>\n<p>B: js æ–‡ä»¶ä¸å‘ç”Ÿå˜åŒ–ï¼Œcssæ–‡ä»¶å‘ç”Ÿå˜åŒ–</p>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªä¿®æ”¹äº†jsæ–‡ä»¶ï¼Œä½†æ˜¯cssæ–‡ä»¶ä¹Ÿå˜äº†</p>\n<ol start=\"4\">\n<li>å¦‚æœoutput.filenameä½¿ç”¨chunkhash, cssæ’ä»¶ä½¿ç”¨contenthashçš„è¯</li>\n</ol>\n<p>A: jsæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œcssæ–‡ä»¶ä¸å‘ç”Ÿå˜åŒ–</p>\n<p>B: jsæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œcssæ–‡ä»¶å‘ç”Ÿå˜åŒ–</p>\n<p>ä»ç¼“å­˜çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›å°½å¯èƒ½å……åˆ†åˆ©ç”¨ç¼“å­˜ï¼Œæ¯æ¬¡åªå˜æ›´æˆ‘ä»¬æ›´æ–°è¿‡çš„æ–‡ä»¶ã€‚å‰ææ˜¯æ›´æ–°è¿‡çš„æ–‡ä»¶èƒ½å¤Ÿä½œç”¨ã€‚</p>\n<p>æ˜¾ç„¶ä¸Šé¢ç¬¬å››ç§æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œä¹Ÿå°±æ˜¯output.filenameä½¿ç”¨chunkhash, css pluginä½¿ç”¨contenthashã€‚</p>\n<p>ä»è¿™æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ¯”å¾—çŸ¥contenthash æ˜¯åªä¸å†…å®¹ç›¸å…³ï¼Œå†…å®¹å˜äº†ï¼Œhashå°±å˜äº†ã€‚è€Œchunkhashæ˜¯ä¸€æ•´ä¸ªchunkçš„å†…å®¹ï¼Œä¸ä»…ä»…æ˜¯è‡ªå·±çš„å†…å®¹ï¼Œè¿˜æœ‰å¼•ç”¨çš„åˆ«çš„module çš„å†…å®¹ï¼Œä»»ä½•ä¸€ä¸ªå˜åŒ–äº†ï¼Œéƒ½è¦å‘ç”Ÿå˜åŒ–ï¼Œè¿™å°±å’Œchunk çš„æ¦‚å¿µä¸è°‹è€Œåˆäº†ã€‚</p>\n<p>å‚è€ƒèµ„æ–™</p>\n<ul>\n<li><a href=\"https://webpack.js.org/configuration/output/#outputfilename\">webpackå®˜ç½‘</a></li>\n<li><a href=\"https://stackoverflow.com/questions/42523436/what-are-module-chunk-and-bundle-in-webpack\">stackoverflow: What are module, chunk and bundle in webpack</a></li>\n<li><a href=\"https://github.com/webpack/webpack.js.org/issues/970\">github issue: Concepts- Bundle vs Chunk</a></li>\n<li><a href=\"https://juejin.im/post/5d70ad50f265da03cf7aae91\">webpackä¸­çš„bundle, module, chunkåˆ†åˆ«æ˜¯ä»€ä¹ˆ</a></li>\n</ul>","frontmatter":{"title":"webpack ä¸­çš„contenthashä¸chunkhash","date":"July 24, 2020","description":"webpackä¸­çš„æ¦‚å¿µä¸€å®šæ˜¯ä¸å®¹æ˜“è®°ä½çš„ï¼Œè€Œä¸”ä¸å¥½ç†è§£çš„ï¼ŒğŸ¶ğŸ¶ğŸ¶"}},"previous":{"fields":{"slug":"/scope-slots-and-render-in-vue/"},"frontmatter":{"title":"Vueä¸­çš„scope slotå’Œrenderå‡½æ•°"}},"next":{"fields":{"slug":"/vue3-renderer/"},"frontmatter":{"title":"vue3 ä¸­æ¸²æŸ“å™¨apiçš„è®¾è®¡"}}},"pageContext":{"id":"696bcfad-93ab-54b1-b08e-a73c77c8d2e3","previousPostId":"bf1e32d0-9a3a-5f1c-b6ea-336b5b32cd45","nextPostId":"466cbbd2-e36f-5bed-8919-d41e5d82ca2f"}},"staticQueryHashes":["2841359383","965855181"]}